<html>

<HTML>

<HEAD>

  <TITLE>jcrweb1</TITLE>

</HEAD>

<BODY BGCOLOR="#C0C0C0" TEXT="#001010" VLINK="#405040">

<P><CENTER><FONT SIZE="+4">Webpages source fishing<BR>

</FONT><FONT SIZE="+2">Javascript &quot;protections&quot;</FONT>

<BR>

</CENTER>



<H4><CENTER><I>by jcr</I><BR>

(08 September 1997)</CENTER></H4>



<CENTER><HR><IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALIGN="BOTTOM" BORDER="0" VSPACE="0" HSPACE="0" WIDTH="13" HEIGHT="13"> Courtesy of Fravia's page of reverse engineering<BR>

<HR> <I>Well, this is a VERY interesting essay, in my opinion... see, if you have 

a look at my <A href="ideale.htm" tppabs="http://www.anticrack.de/fravia/ideale.htm">antismut</A> pages, you'll see that one of them 

is dedicated to the gathering of tiny information snippets that are 

frequently &quot;forgotten&quot; 

inside the html source code of many pages. I have personally destroyed many 

sites using those informations. You may need some other tools: a java decompiler 

(in order to disassemble java compiled code, duh) and a &quot;classviewer&quot;  (and a java virtual machine 

of course) in order to practicize this kind of nice activity... in the mean time 

you'll have your fun just examining the source code of all &quot;suspect&quot; pages, as 

jcr teaches us with this very interesting example of a stupid web protection. Here is what he wrote to me:</I></CENTER><PRE>



fravia: i came across this web protection that made me laugh, and 

then cry. I's just dumb, dumb dumb dumb.

And the most saddening aspect is that the guy does have a brain, 

because the code is interesting.

It's like shorting out a terribly complex copy protection scheme 

with a silly simple jmp.

       



jcr    (j, seer of the code)        



<HR size="6"><CENTER>

<FONT size="+2">Webpages source fishing</FONT><FONT size="+1"> 

Javascript &quot;protections&quot;

by jcr, September 1997</FONT></CENTER>



A candidate for the stupidest (web-based) protection scheme: 

I'm sorry if this is not appropriate material, but i just had to document

this blatant misuse of a brain (such a terrible thing to waste!).

This is not at all a crack, and has nothing to do with disassembly language,

but it is the st00pidest implementation of &quot;security&quot; on the web i have ever                            

seen. 



While i was persuing after our beloved softice 3.2 (yes 3.2), walking the

warez road for all it's sin, (i'd buy the damn thing but i haven't

scrounged up a bleeding cent towards the 559$US or so needed, this hacking

gig isn't putting down the bills, you catch?)  anyway, i came across this

silly little site at:

         

             <A href="tppmsgs/msgs2.htm#206" tppabs="http://www.anticrack.de/fravia/tppmsgs/msgs2.htm#206">http://www.octonline.com/usr/fity07/main.htm</A>

	          (which does NOT host THE debugger)



the story, as the author writes, is that you have to click on these ad 

banners, muck around through all this bullshit commercialization, and find 

a keyphrase (uh-oh) in order to enter the warez site. 

I'm not into that, i don't like that, so i won't do that. 

I hit the warez site, and sure enough am presented with a form asking me to 

login. 

Let's see first of all if there is anything in the markup that i can use to 

my advantage:  (please excuse: here is the mark in its entirety):



<CODE>

pwd.htm:



&lt;HTML&gt;&lt;HEAD&gt;

&lt;SCRIPT LANGUAGE=&quot;JavaScript&quot;&gt;

&lt;!-- Hide from JavaScript-Impaired Browsers

al=&quot;`1234567890-=~!@#$%^&amp;*()_+qwer&quot;

+&quot;tyuiop[]QWERTYUIOP{}|asdfghjkl;A&quot;

+&quot;SDFGHJKL:zxcvbnm,./ZXCVBNM&lt;&gt;?&quot;;

ab1=&quot;&quot;;

bctr=0;

function ckPwd(){

 tst=document.isn.username.value

 +&quot;*&quot;+document.isn.passwrd.value+&quot;*&quot;;

 ls=document.pd.pe.value;

 a=eval(ls.substring(0,2))-91;

 ls=ls.substring(2,ls.length);

 nls=&quot;&quot;;

 flg=0;

 while (ls.length&gt;12){

  ab=eval(ls.substring(0,2))-89;

  ab1=(ab1==&quot;&quot;?&quot;&quot;+ab:ab1);

  oab1=ab1;

  ls=ls.substring(2,ls.length);

  for (var i=0;i&lt;ab;i++){

   nr=eval(ls.substring(0,2))-a;

   ls=ls.substring(2,ls.length);

   nls+=al.charAt(nr);

   }

  nls+=&quot;*&quot;;

  if (nls.indexOf(tst)&gt;-1){

   ls=&quot;&quot;;

   flg=1;

   }

  }

 if (flg==1){

  tstOk();

  }

 else{

  bctr++;

  if (bctr&gt;3){

  /* Be sure to put the name of the page

     here to which you want visitors are to be

     sent after three tries if they FAIL to enter 

     a correct password and user name. */

   location.href=&quot;error.htm&quot;;

   }

  else{

   alert(&quot;Sorry. Bad Username or Password.&quot;

   +&quot; Failed Attempt #&quot;+bctr+&quot;.&quot;);

   }

  }

 }



function tstOk(){

 ab1=ab1+&quot;&quot;+a;

  alert(&quot;OK. You Entered a Valid Username and Password, &quot;

  +document.isn.username.value+&quot;! Taking you to the&quot;

  +&quot; restricted page as soon as you click OK.&quot;);

  location.href=&quot;pwdss.htm?&quot;+ab1;              &lt;---- gee, thats sweet

 }



function srand() {

 today=new Date();

 rand=today.getTime();

 picker=&quot;&quot;+rand

 picker=picker.charAt((picker.length-4));

 rec=eval(picker);

 } // End Hiding --&gt; &lt;/SCRIPT&gt; &lt;/HEAD&gt; &lt;BODY BGCOLOR=&quot;white&quot;&gt;&lt;CENTER&gt;

&lt;FORM NAME=&quot;pd&quot;&gt; 



&lt;!-- IMPORTANT: After you run the pseudo-encrypter, you will get a

&quot;hidden&quot; form element constructed especially for your own user names and

passwords. Paste that form element right below this note and above the end

of form tag. --&gt; 



&lt;!-- Paste this element into your main script named pwd.htm in the

location indicated --&gt;



&lt;INPUT TYPE='hidden' NAME='pe'

VALUE='999881643741603841598498816759606041815967 '&gt; &lt;/FORM&gt;



&lt;!-- You may put any page content you wish here The HTML below for the

password entry is presently set for blue background and white type. You

may change colors to fit your own page design without impacting on the

script, so long as the form elements stay the same.  --&gt;





&lt;FORM NAME=&quot;isn&quot;&gt;

&lt;TABLE BORDER=2 CELLPADDING=5 CELLSPACING=0 BGCOLOR=BLUE&gt;

&lt;TR&gt;&lt;TD COLSPAN=2 ALIGN=CENTER&gt;&lt;FONT SIZE=4 COLOR=WHITE 

FACE=&quot;helvetica,arial,geneva&quot;&gt;&lt;B&gt;Password Access&lt;BR&gt;to Our Restricted 

Pages&lt;/B&gt;&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;

&lt;TR&gt;&lt;TD&gt;&lt;FONT SIZE=3 COLOR=WHITE&gt;&lt;B&gt;Your User Name:&lt;/B&gt;&lt;/FONT&gt;&lt;/TD&gt;

&lt;TD&gt;&lt;INPUT TYPE=&quot;text&quot; NAME=&quot;username&quot; VALUE=&quot;&quot; SIZE=10&gt;&lt;/TD&gt;&lt;/TR&gt;

&lt;TR&gt;&lt;TD&gt;&lt;FONT SIZE=3 COLOR=WHITE&gt;&lt;B&gt;Your Password:&lt;/B&gt;&lt;/FONT&gt;&lt;/TD&gt;

&lt;TD&gt;&lt;INPUT TYPE=&quot;password&quot; NAME=&quot;passwrd&quot; VALUE=&quot;&quot; SIZE=10&gt;&lt;/TD&gt;&lt;/TR&gt;

&lt;TR&gt;&lt;TD COLSPAN=2 ALIGN=CENTER&gt;&lt;INPUT TYPE=&quot;button&quot; NAME=&quot;btn&quot; 

VALUE=&quot; Submit &quot; onClick=&quot;ckPwd();return false;&quot;&gt;&lt;/TD&gt;&lt;/TR&gt;

&lt;/TABLE&gt;&lt;/FORM&gt;



&lt;!-- Put any other content you wish on your page here --&gt;



&lt;SCRIPT LANGUAGE=&quot;JavaScript&quot;&gt;

&lt;!-- Hide JavaScript from Java-Impaired Browsers

/* This little script at the bottom of your

   page isn't strictly necessary, but it does

   put the visitor's cursor in the password form.

   It's a small, but polite and thoughtful thing

   to do for your visitors. */

document.isn.username.focus();

// End Hiding --&gt;

&lt;/SCRIPT&gt;

&lt;/BODY&gt;

&lt;/HTML&gt;

         </CODE>



And <A href="pwd.htm" tppabs="http://www.anticrack.de/fravia/pwd.htm">here is the effect</A>.

        



The whole thing reminds me so much of deprotecting and otherwise

reengineering, that i couldn't help but think of fravia and the stupid

protectionists page. (or is that just &quot;stupid protections&quot; page?) anyways,

right there, right in the middle of the markup i stare at a link to the

following scrap of markup: 

  <CODE>

pwdss.htm:



&lt;!-- Create this intervening page named &quot;pwdss.htm&quot; to help keep the

restricted page URL a bit more difficult to discern. --&gt;



&lt;HTML&gt;&lt;HEAD&gt;&lt;SCRIPT LANGUAGE=&quot;JavaScript&quot;&gt;

ck=location.search;

if (ck!=&quot;?98&quot;){

/* Substitute your own WRONG

    destination here. */

 location.href=&quot;error.htm&quot;;             &lt;-- Wanna this page   

 }

else{

 /* Put the correct restricted

    page name here. */

 location.href=&quot;waret.htm&quot;;             &lt;-- or rather this one?     

 }

&lt;/SCRIPT&gt;&lt;/HEAD&gt;&lt;/HTML&gt;

     &lt;/center&gt;

                </CODE>

The moral of this sad tale is: don't waste your time coercing your markup

language to implement security. IT WON'T DO, YOU CANNOT HIDE BEHIND

YOUR JAVASCRIPT, NOR YOUR JAVA CLASS, NOR YOUR ACTIVE-X. If the

protectionist's code must live on a host, it will never be secure. 

Sad to say, this protection would be secure only to the most naive 

web-idiot (&quot;uhh, what's 'view source'... an option?&quot;) 



Or: don't confuse obscurity and obsfucation with security.



j, seer of the code.



ps: or maybe i'm just the rare sort that happens to source the majority 

of the web pages encountered... and for that matter... of the programs 

encountered ;-) 

   

</PRE><FONT color="green">

(c) jcr, 1997. All rights reversed.</FONT>

		<HR size="2">

<CENTER><I>You are deep inside fravia's page of reverse

engineering, choose your way out:</I></CENTER>





<P><CENTER>



<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALIGN="BOTTOM" BORDER="0" VSPACE="0" HSPACE="0" WIDTH="13" HEIGHT="13"><A HREF="javascript:if(confirm('http://fravia.org/tppmsgs/msgs0.htm  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://fravia.org/tppmsgs/msgs0.htm#84'" tppabs="http://fravia.org/tppmsgs/msgs0.htm#84">homepage </A>

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALIGN="BOTTOM" BORDER="0" VSPACE="0" HSPACE="0" WIDTH="13" HEIGHT="13"> <A HREF="javascript:if(confirm('http://fravia.org/tppmsgs/msgs0.htm  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://fravia.org/tppmsgs/msgs0.htm#73'" tppabs="http://fravia.org/tppmsgs/msgs0.htm#73">links

</A><IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN="BOTTOM" WIDTH="13" HEIGHT="13" BORDER="0" VSPACE="0" HSPACE="0" NATURALSIZEFLAG="0"> <A HREF="noanon.htm" tppabs="http://www.anticrack.de/fravia/noanon.htm">anonymity

</A><IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALIGN="BOTTOM" BORDER="0" VSPACE="0" HSPACE="0" WIDTH="13" HEIGHT="13"><A HREF="orc.htm" tppabs="http://www.anticrack.de/fravia/orc.htm">+ORC </A><IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALIGN="BOTTOM" BORDER="0" VSPACE="0" HSPACE="0" WIDTH="13" HEIGHT="13"><A HREF="javascript:if(confirm('http://fravia.org/tppmsgs/msgs0.htm  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://fravia.org/tppmsgs/msgs0.htm#82'" tppabs="http://fravia.org/tppmsgs/msgs0.htm#82">students' essays </A><IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALIGN="BOTTOM" BORDER="0" VSPACE="0" HSPACE="0" WIDTH="13" HEIGHT="13"><A HREF="tools.htm" tppabs="http://www.anticrack.de/fravia/tools.htm">tools

</A><IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALIGN="BOTTOM" BORDER="0" VSPACE="0" HSPACE="0" WIDTH="13" HEIGHT="13"><A HREF="cocktail.htm" tppabs="http://www.anticrack.de/fravia/cocktail.htm">cocktails </A><BR>

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALIGN="BOTTOM" BORDER="0" VSPACE="0" HSPACE="0" WIDTH="13" HEIGHT="13"><A HREF="academy.htm" tppabs="http://www.anticrack.de/fravia/academy.htm">academy database </A>

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALIGN="BOTTOM" BORDER="0" VSPACE="0" HSPACE="0" WIDTH="13" HEIGHT="13"><A HREF="ideale.htm" tppabs="http://www.anticrack.de/fravia/ideale.htm">antismut </A><IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALIGN="BOTTOM" BORDER="0" VSPACE="0" HSPACE="0" WIDTH="13" HEIGHT="13"><A HREF="searengi.htm" tppabs="http://www.anticrack.de/fravia/searengi.htm">search_forms </A><IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALIGN="BOTTOM" BORDER="0" VSPACE="0" HSPACE="0" WIDTH="13" HEIGHT="13"><A HREF="info.htm" tppabs="http://www.anticrack.de/fravia/info.htm">mail_fravia

</A><BR>

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALIGN="BOTTOM" BORDER="0" VSPACE="0" HSPACE="0" WIDTH="13" HEIGHT="13"><A HREF="legal.htm" tppabs="http://www.anticrack.de/fravia/legal.htm">is reverse engineering legal? </A></FONT></CENTER></P>



<P><CENTER><FONT SIZE="-1"><HR></FONT></CENTER>

</BODY>

</HTML>