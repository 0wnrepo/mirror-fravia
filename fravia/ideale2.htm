<html> <HTML>

<HEAD>

<TITLE>ideale2</TITLE>

</HEAD>

<BODY BGCOLOR=#C0C0C0 TEXT=#001010 VLINK=#405040>

<A NAME="anchortop"></A>

<!-- Begin Introdo -->

<CENTER>

<A href="ideale.htm" tppabs="http://www.anticrack.de/fravia/ideale.htm"><IMG SRC="antism.gif" tppabs="http://www.anticrack.de/fravia/antism.gif" ALT="No_commercial!" 

ALIGN=BOTTOM WIDTH=114 HEIGHT=43 BORDER=0 VSPACE=0 HSPACE=0></A>

<BR>

<FONT color=gray>Crackers against Smut</FONT>



</CENTER>

<H1>

<FONT size=+5>

<CENTER>Fravia's <FONT color=red>Source checking</FONT> page</FONT></CENTER></H1>

<CENTER>

<B>(How to exploit "unconnected" data - user authentication on the net)</B>

<BR>~<BR>

By Fravia, Updated November 1997<BR>Page severely under construction...

</CENTER><BR><HR size=2>

<!-- Begin whatwewant --><FONT size=+1>



Well, inside every page there are treasures of hidden information.<BR>

Use an agora server with the <FONT color=purple>deep</FONT> command or a good ftp-mailer, like mogli (w3mail@mogli.gmd.de) 

with something like

<PRE>

get -l -a -img http://...

</PRE>

And you'll immediately see, without any effort, ALL hidden links existing on that same page.<BR>

You can find very useful snippets also through the simple "View document source" option 

of Netscape... if a page uses frames, just "spring off" them, looking at the source code 

that called those frames, in order to call it directly  yourself without the "frame jacket" 

(you may work on this personally on line or, better, per email, using a good agora server).<BR>

Since the majority of the smut depots do call "hidden" pages, you just need to perform a 

deep "snooping" of their "allowed" pages in order to understand where else they could link 

to... most of the time they will really hide some valuable information, and you'll be able to exploit the "weak" 

side of their CGI-scripts, in order to destroy them, as explained inside my 

"CGI-Script reverse engineering" pages <A href="ideale3.htm" tppabs="http://www.anticrack.de/fravia/ideale3.htm">one</A> and <A href="ideale4.htm" tppabs="http://www.anticrack.de/fravia/ideale4.htm">two</A><BR><BR>

Another useful trick is to have a look at all the COUNTERS of the site 

you are attacking: smut dealer sites use counters heavily (in order to 

be listed on the various "top reviews", see the "combing" page) and 

counters use CGI-scripts! Some counter sites keep also track of ALL related 

sites of a given counter, for instance <A href="javascript:if(confirm('http://www.neisweb.com/claimItFor.htm  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.neisweb.com/claimItFor.htm'" tppabs="http://www.neisweb.com/claimItFor.htm">ClaimItFor</A>, 

and this means that you can find "backwards" totally unrelated servers that 

carry information pertaining to the same site!<BR><BR>

You may also try an old "ftp" trick: mount a directory backwards (simply delete 

from the URL Location window of your browser the last subdirectory, or the last 

two, and see if that pays! If you "come through" to the arborescence you'll have 

many chance to find somewhere a perl or CGI-script call that you can reverse to 

destroy the site... or at least you'll be able to send the whole arborescence to 

the newsgroups of the suckers (various alt.erotik.etcetera) laming the site out of 

commerce for a while, until the site owner restructures the whole subdirectories 

naming conventions :-)<BR><BR>

Remeber that publishing (if you intercept or reconstruct them) some access 

passwords of the site on Usenet WILL NOT DAMAGE the smut site, because all these sites 

automatically filter any login: if two persons log in at the 

same time with the same login_ID and password (which inevitably happens if you get 

only some passwords attacking the site and then publish them on Usenet) the 

relative accounts will be disabled.<BR>But if you get THE WHOLE LOT (say piping a 

metacommand, and publish 

it on the Newsgroups of the porno addicts, you'll probably push the whole smut site out of commerce, because all the "legitimate" 

suckers will make quite a big fuss with the smut site owner about not being able 

any more to leech their pictures inside it!.<BR><BR>

By all means, even if they WILL NOT work any more, for the filtering reasons explained above, have 

a look at the many "smut-passwords-lists" that you'll find in the "warez" scene 

sites, for instance <A href="javascript:if(confirm('http://www.hitbox.com/wc/world2.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.hitbox.com/wc/world2.html'" tppabs="http://www.hitbox.com/wc/world2.html">here</A> under 

hacking/phreaking... some sites (not many, alas) use an AUTOMATICAL algorithm for 

the password creation, based on the Name string of the user! These are pretty easy 

to reconstruct, as you'll learn reading the <A href="orc.htm" tppabs="http://www.anticrack.de/fravia/orc.htm">+ORC's tutorial lessons</A> and 

the <A href="student.htm" tppabs="http://www.anticrack.de/fravia/student.htm">students' essays</A> on my "main" site that deal with 

all password protection schemes (and their algorithms).<BR><BR>

User authentication on Unix type servers can allow or deny individuals access 

to the document tree directories on a username and password basis. There is NO 

correspondence between the system level usernames/passwords (in /etc/passwd) and 

the web server's username/password file.<BR><BR>

When users access pages that are protected with this mechanism, they are given 

two prompt (username and password) to which they must respons correctly before 

access is allowed. Once authenticated, they can navigate from page to page 

without repeated authentication prompts. This works because the Web browser 

remembers the hostname, directory path, and name/password for subsequent

 retrievals. To use user authentication there must be somewhere a private 

htpertext username/ppassword file. By convention, this file is called<BR><I><PRE>

.htpasswd<BR></PRE></I>

User authentication is designed so that a user does not need an account on 

the system in order to be authenticated for access to files on the web server.<BR>

The <I>.htpasswd</I> file is manipulated through a program called <I>htpasswd</I>.

<BR>The source of this program is called <I>htpasswd.c</I> and is found in the 

<I>support/</I> subdirectory of most servers.<BR>

<I>htpasswd</I> is invoked as follows:<BR><PRE>

% htpasswd [-c] .htpasswdusername<BR></PRE>

where username is the name of the user that should be added or edited. The -c 

flag, if present, tells hpasswd to create a new hypertext password file instead of 

editing the existing one.<BR><BR>

If <I>htpasswd</I> finds the specified user, it will ask to change the user 

password (which must be typed twice). httpd then updates the file.<BR><BR>

Individual authentication is accomplished using a combination of access control 

directives and a private <I>.htpasswd</I> file. Let's look at an example used to 

restrict access to only those individuals who know the password:<BR>

The <I>access.conf</I> configuration file (assuming they use DocumentRoot) must 

look like the following:<BR><PRE>

&lt;Directory /usr/local/etc/httpd/htdocs&gt;

  Options Indexes FollowSymlinks

  AllowOverride None

  AuthUserFile /usr/local/etc/httpd/conf/.htpasswd

  AuthGroupFile /dev/null

  AuthName By Secret Password Only!

  AuthRType Basic

  &lt;Limit GET&gt;

	require user <I>username</I>

  &lt;/Limit&gt;

&lt;/Directory&gt;<BR></PRE>

If you compare this to the general unrestricted configuration you'll see

 that:<BR>

<BR>

The AuthUserFile directive is added to specify the absolute pathname to the 

hypertext password file (our target);<BR>

<BR>

The AuthGroupFile directive has been added, but set to /dev/null, which by 

UNIX standartds indicates that the file does not exist;<BR>

<BR>

The AuthName directive is added to specify the prompt to be given to the 

user for the username (in this case: "By Secret Password Only!");<BR>

<BR>

The AUthType directive is added and sent to Basic. There is mostly no choice, 

since Basic is the most used authorization type available.<BR>

<BR>

ALL FOUR Auth directives go outside the Limit sectioning directive<BR>

<BR>

The order and allow directives were removed from the   &lt;Limit&gt; sectioning 

directive and replaced with the require directive. This tells httpd to prompt 

for a username and password and that the username has to be <I>username</I>.<BR>

Using the require directive dictates the need to use the AuthUserFile, AuthGroupFile, 

AuthName and AuthType directives.<BR><BR>

What happens next?<BR>

An hypertext password file is created for the username specified in the 

access.conf configuration file:<BR><PRE>

% htpasswd -c /usr/local/etc/httpd/conf/.htpasswd <I>username</I><BR></PRE>

htpasswd prompts now for the password.<BR>

<BR>

If individual authentication is needed on a directory-level basis, say to protect the directory /usr/local/etc/httpd/htdocs/xxxsmut directory, 

the following directives must be placed in a <FONT color=blue>.htaccess</FONT> file in that directory:<BR><PRE>

  AuthUserFile /usr/local/etc/httpd/conf/.htpasswd

  AuthGroupFile /dev/null

  AuthName By Secret Password Only!

  AuthRType Basic

  &lt;Limit GET&gt;

	require user <I>username</I>

  &lt;/Limit&gt;<BR></PRE>

As we have seen above.<BR>

<BR>

Our smut targets use the same system, but for GROUP authentication<BR>

The users are placed into groups and then each group is treated as a

whole. There are three steps in this process:<BR>

A modification of the global ACF (access.conf) file.<BR>

The creation of an hypertext group file (<I>.htgroup</I>) with 

multiple users as members.<BR>

The double checking that ALL users in the hypertext group file are 

also in the hypertext password file.<BR>

Let's take a specific example:<BR><PRE>

&lt;Directory /usr/local/etc/httpd/htdocs&gt;

  Options Indexes FollowSymlinks

  AllowOverride None

  AuthUserFile /usr/local/etc/httpd/conf/.htpasswd

  AuthGroupFile /usr/local/etc/httpd/conf/.htgroup

  AuthName By Secret Password Only!

  AuthRType Basic

  &lt;Limit GET&gt;

	require group <I>groupname</I>

  &lt;/Limit&gt;<BR>

&lt;/Directory&gt;<BR></PRE>



If you compare this against our starting point you'll see that:<BR>

<BR>

The AuthGroupFile directive was modified from /dev/null to point to a 

group password file called .htgroup. Usually this file is placed in 

the SAME directory as the htpertext password file.<BR>

<BR>

The require directive was modified from user to group and the username 

was changed to groupname.<BR>

<BR>

In a second step is created the file /usr/local/etc/httpd/conf/.htgroup, 

which contains the following group definition:<BR><PRE>

groupname: username1 username2 username3... usernameN<BR></PRE>

Usernames are separated by spaces. Multiple groups could be identified in the 

hypertext group file, one per line.<BR>

<BR><HR width=55%>

Web server don't have (like FTP and GOPHER) the chroot() feature, wherein 

access is absolutely restricted to files within the data tree.<BR>

However, Web browsers can't randomly walk across the directory structure of the 

system. All access is relative to the top of the docupent tree (as defined 

by the DocumentRoot directive). httpd does not let users change directories 

up past the top of the docupment tree.<BR>

<BR>

However, unlike FTP and gopher (when set up properly), links from WITHIN the 

document tree to OUTSIDE the tree do work!!.<BR>

If a symbolic link has been written in an html page to an existing directory 

OUTSIDE the document tree (say inside a private user HTML directory), you may 

be able to pass, unless the <I>followsymlink</I> option inside access.conf has 

been disabled or changed to <I>SymLinksIfOwnerMatch</I><BR><BR>

The Server administrators usually set the AllowOverride directive to None and 

the Options directive to Indexes, preventing users from purposely including  

executable CGI scripts in the HTML stream or establishing symbolic links that 

lead out of the document tree.<BR>

The <I>SymLinksIfOwnerMatch</I> clause to the Options directive assures that 

users can only establish symbolic links to files and directories they own, 

AND THESE ON SMUT SITES are oft outside the document tree! If such links do 

exist and you find them, you can oft escape the document tree jacket.<BR><BR>





<BR>





<BR><CENTER>

<BR></FONT><!-- End whatwewant -->

<FONT size=+3><CENTER>

Good luck, good hunt!<BR></FONT>

</CENTER>



<!-- Begin this section mover -->

<HR ALIGN=CENTER WIDTH=100% SIZE=3><CENTER>

<A href="ideale.htm" tppabs="http://www.anticrack.de/fravia/ideale.htm"><IMG SRC="antism.gif" tppabs="http://www.anticrack.de/fravia/antism.gif" ALT="No_commercial!" 

ALIGN=BOTTOM WIDTH=114 HEIGHT=43 BORDER=0 VSPACE=0 HSPACE=0></A>

<BR>

<FONT color=gray>Crackers against Smut</FONT>



</CENTER>

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 BORDER=0 

VSPACE=0 HSPACE=0><A href="ideale.htm" tppabs="http://www.anticrack.de/fravia/ideale.htm">Antismut main page</A> 

<BR>

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 BORDER=0 

VSPACE=0 HSPACE=0><A href="general.htm" tppabs="http://www.anticrack.de/fravia/general.htm">A general approach</A>

<BR>



<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 BORDER=0 

VSPACE=0 HSPACE=0><A href="ideale1.htm" tppabs="http://www.anticrack.de/fravia/ideale1.htm">combing</A> i.e. how to find the 

"commercial smut" sites

<BR>



<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 BORDER=0 

VSPACE=0 HSPACE=0><A href="ideale3.htm" tppabs="http://www.anticrack.de/fravia/ideale3.htm">cgi-script one</A> CGI-tricks, page 

one

<BR>

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 BORDER=0 

VSPACE=0 HSPACE=0><A href="ideale4.htm" tppabs="http://www.anticrack.de/fravia/ideale4.htm">cgi-script two</A> CGI-tricks, page 

two

<BR>

<!-- End this section mover -->

<HR ALIGN=CENTER WIDTH=100% SIZE=3>

<!-- Begin  main mover -->

<CENTER>

<FONT size=+2>Fravia's main site</FONT>

<BR>

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 

BORDER=0 VSPACE=0 HSPACE=0><A HREF="index.html" tppabs="http://www.anticrack.de/fravia/index.html">homepage</A>   

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 

BORDER=0 VSPACE=0 HSPACE=0><A HREF="orc.htm" tppabs="http://www.anticrack.de/fravia/orc.htm">+ORC</A>  

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 

BORDER=0 VSPACE=0 HSPACE=0><A HREF="noanon.htm" tppabs="http://www.anticrack.de/fravia/noanon.htm">anon</A>  

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 

BORDER=0 VSPACE=0 HSPACE=0><A HREF="coumes.htm" tppabs="http://www.anticrack.de/fravia/coumes.htm">counter measures</A>  

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 

BORDER=0 VSPACE=0 HSPACE=0><A HREF="tools.htm" tppabs="http://www.anticrack.de/fravia/tools.htm">tools</A>  

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 

BORDER=0 VSPACE=0 HSPACE=0><A HREF="academy.htm" tppabs="http://www.anticrack.de/fravia/academy.htm">+HCU Academy</A>  

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 

BORDER=0 VSPACE=0 HSPACE=0><A HREF="stalking.htm" tppabs="http://www.anticrack.de/fravia/stalking.htm">stalking</A> 

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 

BORDER=0 VSPACE=0 HSPACE=0><A HREF="slaves.htm" tppabs="http://www.anticrack.de/fravia/slaves.htm">enslavement</A> 

<BR> 

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 

BORDER=0 VSPACE=0 HSPACE=0><A HREF="student.htm" tppabs="http://www.anticrack.de/fravia/student.htm">students' essays</A> 

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 

BORDER=0 VSPACE=0 HSPACE=0><A HREF="cocktail.htm" tppabs="http://www.anticrack.de/fravia/cocktail.htm">cocktails</A>  

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 

BORDER=0 VSPACE=0 HSPACE=0><A HREF="links.htm" tppabs="http://www.anticrack.de/fravia/links.htm">links</A> 

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 

BORDER=0 VSPACE=0 HSPACE=0><A HREF="searengi.htm" tppabs="http://www.anticrack.de/fravia/searengi.htm">search_forms</A>  

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 

BORDER=0 VSPACE=0 HSPACE=0><A HREF="info.htm" tppabs="http://www.anticrack.de/fravia/info.htm">mail_fravia+</A> 

<BR>

<IMG SRC="bulletr.gif" tppabs="http://www.anticrack.de/fravia/bulletr.gif" ALT="red" ALIGN=BOTTOM WIDTH=13 HEIGHT=13 

BORDER=0 VSPACE=0 HSPACE=0><A HREF="legal.htm" tppabs="http://www.anticrack.de/fravia/legal.htm">Is reverse engineering legal?</A> 

</CENTER>

<!-- End main mover -->





</BODY>

</HTML>



